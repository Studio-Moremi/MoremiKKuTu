html
  head
    title 끝말잇기 게임
    link(rel="stylesheet" href="/css/game.css")
    script(src='https://cdn.jsdelivr.net/npm/chart.js')
    script(src='../public/js/chart.js')
    script(src='../public/js/chat.js')

  body
    #game-container
      #header
        h1 끝말잇기 게임
        button#close-game X

      #main-content
        #member-list
          h2 접속 중인 멤버
          ul#members
            each member in members
              li.member(data-id=member.id) #{member.nickname}

        #room-info
          h2 방 정보
          p 닉네임: #{user.nickname}
          p 끝말잇기 전적: #{user.matches_played}전 #{user.matches_won}승 #{user.matches_lost}패
          p 마일리지: #{user.mileage}
          p 현재 방: #{user.current_room || '없음'}

          span#user-id.hidden(data-user-id=user.id)

          h3 그래프
          button#toggle-chart 패률 그래프 보기
          canvas#chart(width='400' height='200')

        button#btn-create-room 방 만들기

        #chat-container
          h2 채팅
          #chat-box
            each message in messages
              .chat-message
                span.chat-nickname(data-id=message.userId) #{message.nickname}:
                span.chat-content #{message.content}

          form#chat-form
            input#chat-input(type="text" placeholder="메시지를 입력하세요" required)
            button#chat-send(type="submit") 전송

    #create-room-modal.hidden
      h2 방 만들기
      form#room-form
        label(for='room-name') 방 이름:
        input#room-name(type='text', required)

        label(for='round-count') 라운드 수:
        input#round-count(type='number', min='1', required)

        label(for='room-password') 방 비밀번호 (선택):
        input#room-password(type='password')

        div#room-options
          label
            input#manner-mode(type='checkbox')
            | 매너 모드 (한방단어 불가)

          label
            input#mission-mode(type='checkbox')
            | 미션 모드 (특정 글자 포함 시 점수 추가)

        div#room-buttons
          button(type='submit') 만들기
          button#cancel(type='button') 취소

